.\\" auto-generated by docbook2man-spec $Revision: 1.1 $
.TH "INITDB" "1" "2003-11-02" "Application" "PostgreSQL Server Applications"
.SH NAME
initdb \- create a new PostgreSQL database cluster

.SH SYNOPSIS
.sp
\fBinitdb\fR\fR [ \fR\fB\fIoption\fB\fR...\fB \fR\fR]\fR \fR\fR \fB--pgdata \fR\fR | \fR\fB-D \fR\fIdirectory\fR\fR\fR
.SH "DESCRIPTION"
.PP
\fBinitdb\fR creates a new
PostgreSQL database cluster. A database
cluster is a collection of databases that are managed by a single
server instance.
.PP
Creating a database cluster consists of creating the directories in which
the database data will live, generating the shared catalog tables 
(tables that belong to the whole cluster rather than to any particular
database), and creating the template1
database. When you later create a new database, everything in the
template1 database is copied.
It contains catalog tables filled in for things like the
built-in types.
.PP
\fBinitdb\fR initializes the database cluster's
default locale and character set encoding. Some locale categories
are fixed for the lifetime of the cluster, so it is important to
make the right choice when running \fBinitdb\fR.
Other locale categories can be changed later when the server is
started. \fBinitdb\fR will write those locale
settings into the \fIpostgresql.conf\fR
configuration file so they are the default, but they can be changed
by editing that file. To set the locale that
\fBinitdb\fR uses, see the description of the
\fB--locale\fR option. The character set encoding can
be set separately for each database as it is created.
\fBinitdb\fR determines the encoding for the
template1 database, which will serve as the
default for all other databases. To alter the default encoding use
the \fB--encoding\fR option.
.PP
\fBinitdb\fR must be run as the user that will own the
server process, because the server needs to have access to the
files and directories that \fBinitdb\fR creates.
Since the server may not be run as root, you must not run
\fBinitdb\fR as root either. (It will in fact refuse
to do so.)
.PP
Although \fBinitdb\fR will attempt to create the
specified data directory, often it won't have permission to do so,
since the parent of the desired data directory is often a root-owned
directory. To set up an arrangement like this, create an empty data
directory as root, then use \fBchown\fR to hand over
ownership of that directory to the database user account, then
\fBsu\fR to become the database user, and
finally run \fBinitdb\fR as the database user.
.SH "OPTIONS"
.PP
.TP
\fB-D \fIdirectory\fB\fR
.TP
\fB--pgdata=\fIdirectory\fB\fR
This option specifies the directory where the database cluster
should be stored. This is the only information required by
\fBinitdb\fR, but you can avoid writing it by
setting the \fBPGDATA\fR environment variable, which
can be convenient since the database server
(\fBpostmaster\fR) can find the database
directory later by the same variable.
.TP
\fB-E \fIencoding\fB\fR
.TP
\fB--encoding=\fIencoding\fB\fR
Selects the encoding of the template database. This will also
be the default encoding of any database you create later, unless you
override it there. The default is SQL_ASCII.
.TP
\fB--locale=\fIlocale\fB\fR
Sets the default locale for the database cluster. If this
option is not specified, the locale is inherited from the
environment that \fBinitdb\fR runs in.
.TP
\fB--lc-collate=\fIlocale\fB\fR
.TP
\fB--lc-ctype=\fIlocale\fB\fR
.TP
\fB--lc-messages=\fIlocale\fB\fR
.TP
\fB--lc-monetary=\fIlocale\fB\fR
.TP
\fB--lc-numeric=\fIlocale\fB\fR
.TP
\fB--lc-time=\fIlocale\fB\fR
Like \fB--locale\fR, but only sets the locale in
the specified category.
.TP
\fB-U \fIusername\fB\fR
.TP
\fB--username=\fIusername\fB\fR
Selects the user name of the database superuser. This defaults
to the name of the effective user running
\fBinitdb\fR. It is really not important what the
superuser's name is, but one might choose to keep the
customary name \fBpostgres\fR, even if the operating
system user's name is different.
.TP
\fB-W\fR
.TP
\fB--pwprompt\fR
Makes \fBinitdb\fR prompt for a password
to give the database superuser. If you don't plan on using password
authentication, this is not important. Otherwise you won't be
able to use password authentication until you have a password
set up.
.PP
.PP
Other, less commonly used, parameters are also available:
.TP
\fB-d\fR
.TP
\fB--debug\fR
Print debugging output from the bootstrap backend and a few other
messages of lesser interest for the general public.
The bootstrap backend is the program \fBinitdb\fR
uses to create the catalog tables. This option generates a tremendous
amount of extremely boring output.
.TP
\fB-L \fIdirectory\fB\fR
Specifies where \fBinitdb\fR should find
its input files to initialize the database cluster. This is
normally not necessary. You will be told if you need to
specify their location explicitly.
.TP
\fB-n\fR
.TP
\fB--noclean\fR
By default, when \fBinitdb\fR
determines that an error prevented it from completely creating the database
cluster, it removes any files it may have created before discovering
that it can't finish the job. This option inhibits tidying-up and is
thus useful for debugging.
.PP
.SH "ENVIRONMENT"
.TP
\fBPGDATA\fR
Specifies the directory where the database cluster is to be
stored; may be overridden using the \fB-D\fR option.
.SH "SEE ALSO"
\fBpostgres\fR(1), \fBpostmaster\fR(1)

