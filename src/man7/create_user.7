. mso zh.tmac
.\" auto-generated by docbook2man-spec $Revision: 1.1 $
.TH "CREATE USER" "7" "2003-11-02" "SQL - Language Statements" "SQL Commands"
.SH NAME
CREATE USER \- 创建一个新的数据库用户帐户

.SH SYNOPSIS
.sp
.nf
CREATE USER \fIname\fR [ [ WITH ] \fIoption\fR [ ... ] ]

where \fIoption\fR can be:
    
      SYSID \fIuid\fR 
    | [ ENCRYPTED | UNENCRYPTED ] PASSWORD '\fIpassword\fR'
    | CREATEDB | NOCREATEDB
    | CREATEUSER | NOCREATEUSER
    | IN GROUP \fIgroupname\fR [, ...]
    | VALID UNTIL '\fIabstime\fR' 
.sp
.fi
.SH "DESCRIPTION 描述"
.PP
\fBCREATE USER\fR 向一个 PostgreSQL  数据库集群增加一个新用户。 参考 Chapter 17 ``Database Users and Privileges''  和 Chapter 19 ``Client Authentication''  获取关于管理用户和认证的信息。 要执行这条命令，你必须是一个数据库超级用户。
.SH "PARAMETERS 参数"
.TP
\fB\fIname\fB\fR
 用户名
.TP
\fB\fIuid\fB\fR
SYSID 子句可以用于选择正在被创建的用户的 PostgreSQL 用户标识。 通常这是不必要的，但是如果你想恢复一个孤儿对象的所有者，也许这个很有用。

 如果没有声明这个，缺省使用已分配的最高用户标识加一（最小是 100）。
.TP
\fB\fIpassword\fB\fR
 设置用户的口令，如果你不准备使用口令认证， 那么你可以省略这个选项，但如果你想切换到一个口令认证的服务器，那么该用户将不能联接。 此口令可以稍后再次设置或者修改，使用 ALTER USER [\fBalter_user\fR(7)]。
.TP
\fBENCRYPTED\fR
.TP
\fBUNENCRYPTED\fR
控制口令在数据库中是否以加密形式存储在系统表中。 （如果两个都没有设置，那么缺省的特性是由配置参数 password_encryption 决定的。） 如果提供的字串已经是 MD5 加密的格式，那么就照原样存储， 不管声明的是 ENCRYPTED 还是 UNENCRYPTED。 这样就允许在转储/恢复的过程中重载加密后的口令。

 请注意老的客户端可能缺少 MD5 认证机制，我们需要这个认证机制处理存储为密文的口令。
.TP
\fBCREATEDB\fR
.TP
\fBNOCREATEDB\fR
这个子句定义用户的创建数据库权限。 如果声明了CREATEDB， 被定义的用户将允许创建其自己的数据库。 而使用NOCREATEDB将否决该用户的创建数据库的能力。 如果忽略本子句，缺省是NOCREATEDB。 
.TP
\fBCREATEUSER\fR
.TP
\fBNOCREATEUSER\fR
 该子句决定一个用户是否能创建一个新的用户。 这个选项同样把此用户变成数据库超级用户，可以跨越所有访问限制。省略这个参数将置用户的这个属性为 NOCREATEUSER。
.TP
\fB\fIgroupname\fB\fR
 一个组名称，把这个用户设为该组成员。 你可以列出多个组名字。
.TP
\fB\fIabstime\fB\fR
VALID UNTIL （有效期）子句设置一个绝对时间， 过了该时间后用户的口令将不再有效。 如果省略这个子句，登陆将总是有效的。
.SH "NOTES 注意"
.PP
 使用 ALTER USER [\fBalter_user\fR(7)] 修改用户的口令和权限，DROP USER [\fBdrop_user\fR(7)] 删除一个用户。 使用 ALTER GROUP [\fBalter_group\fR(l)] 从组中增加或删除用户。
.PP
PostgreSQL  里有一个程序 createuser [\fBcreateuser\fR(1)] 与CREATE USER 有相同的功能（实际上，它调用这条命令）， 但是可以在命令行上运行。
.SH "EXAMPLES 例子"
.PP
 创建一个没有口令的用户：
.sp
.nf
CREATE USER jonathan;
.sp
.fi
.PP
 创建一个有口令的用户：
.sp
.nf
CREATE USER davide WITH PASSWORD 'jw8s0F4';
.sp
.fi
.PP
 创建一个有口令的用户，其帐号在 2004 年底失效。 注意当 2005 年走过一秒后，该帐号将不再有效：
.sp
.nf
CREATE USER miriam WITH PASSWORD 'jw8s0F4' VALID UNTIL '2005-01-01';
.sp
.fi
.PP
 创建一个拥有创建数据库权限的用户：
.sp
.nf
CREATE USER manuel WITH PASSWORD 'jw8s0F4' CREATEDB;
.sp
.fi
.SH "COMPATIBILITY 兼容性"
.PP
\fBCREATE USER\fR 语句是 PostgreSQL 扩展。 SQL 标准把用户的定义交给具体实现处理。
.SH "SEE ALSO 参见"
ALTER USER [\fBalter_user\fR(7)], DROP USER [\fBdrop_user\fR(l)], \fBcreateuser\fR(1)
.SH "译者"
.B Postgresql 中文网站
.B 何伟平 <laser@pgsqldb.org>
