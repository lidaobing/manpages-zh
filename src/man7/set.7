.\" auto-generated by docbook2man-spec $Revision: 1.1 $
.TH "SET" "7" "2003-11-02" "SQL - Language Statements" "SQL Commands"
.SH NAME
SET \- 改变运行时参数

.SH SYNOPSIS
.sp
.nf
SET [ SESSION | LOCAL ] \fIname\fR { TO | = } { \fIvalue\fR | '\fIvalue\fR' | DEFAULT }
SET [ SESSION | LOCAL ] TIME ZONE { \fItimezone\fR | LOCAL | DEFAULT }
.sp
.fi
.SH "DESCRIPTION 描述"
.PP
SET 命令修改运行时配置参数。许多在 Section 16.4 ``Run-time Configuration'' 里面列出的运行时参数可以用 SET 在运行时设置。 （但是有些要求使用超级用户权限来修改，而其它有些则在服务器或者会话 开始之后不能修改。）请注意 SET 只影响当前会话使用的数值。
.PP
 如果 SET 或者 SET SESSION 是在一个稍后退出的事务里发出的， 那么 SET 命令的效果将在事务回滚的之后小时。 （这个行为和PostgreSQL版本 7.3 之前的不同， 那个时候 SET 的效果在后面的错误之后不会回滚。） 一旦包围它的事务提交，那么其效果将持续到事务的结束，除非被另外一个 SET 覆盖。
.PP
SET LOCAL 的效果只持续到当前事务结束，不管是否提交。 一个特例是在一个事务里面的 SET 后面跟着一个 SET LOCAL：在事务结束之前只能看到 SET LOCAL  的数值，但是之后（如果事务提交），则是 SET 的值生效。
.SH "PARAMETERS 选项"
.TP
\fBSESSION\fR
 声明这个命令只对当前会话起作用。 （如果 SESSION 或 LOCAL 都没出现，那么这个是缺省。）
.TP
\fBLOCAL\fR
 声明该命令只在当前事务中有效。在 COMMIT 或者 ROLLBACK 之后，会话级别的设置将再次生效。 请注意如果在 BEGIN 块之外运行，那么 SET LOCAL  将表现出没有作用，因为事务将立即结束。
.TP
\fB\fIname\fB\fR
 可设置的运行时参数的名字。可用的参数在 Section 16.4 ``Run-time Configuration'' 和下面归档。
.TP
\fB\fIvalue\fB\fR
 参数的新值。值可以声明为字串常量，标识符，数字，或者逗号分隔的上面这些东西的列表。 DEFAULT 可以用于把这些参数设置为它们的缺省值。
.PP
 除了在 Section 16.4 ``Run-time Configuration'' 里面有文档记载的配置参数之外， 还有几个只能用 SET 命令设置，或者是有特殊的语法的参数：
.TP
\fBNAMES\fR
SET NAMES \fIvalue\fR 是
SET client_encoding TO \fIvalue\fR 的别名。
.TP
\fBSEED\fR
 为随机数生成器（函数 random）设置内部的种子。 允许的值是介于 0 和 1 之间的浮点数，然后它会被乘以 231-1。

 我们也可以通过调用函数 setseed 来设置种子：
.sp
.nf
SELECT setseed(\fIvalue\fR);
.sp
.fi
.TP
\fBTIME ZONE\fR
SET TIME ZONE \fIvalue\fR 是
for SET timezone TO \fIvalue\fR 的一个别名。 语法 SET TIME ZONE 允许为时区设置特殊的语法。 下面是有效值的例子：
.RS
.TP
\fB\&'PST8PDT'\fR
 加州伯克利的时区。
.TP
\fB\&'Portugal'\fR
 葡萄牙时区。
.TP
\fB\&'Europe/Rome'\fR
 意大利时区。
.TP
\fB-7\fR
 UTC 以西 7 小时的时区（等效于 PDT）。
.TP
\fBINTERVAL '-08:00' HOUR TO MINUTE\fR
 UTC 以西 8 小时的时区（等效于 PST）。
.TP
\fBLOCAL\fR
.TP
\fBDEFAULT\fR
 将时区设置为你的本地时区（服务器的操作系统缺省的那个）。
.RE
.PP
 参阅 Section 8.5 ``Date/Time Types'' 获取有关时区的更多细节。
.PP
.PP
.SH "NOTES 注意"
.PP
 函数 set_config 提供了等效的功能。 参阅 Section 9.13 ``Miscellaneous Functions'' 。
.SH "EXAMPLES 例子"
.PP
 设置模式搜索路径：
.sp
.nf
SET search_path TO my_schema, public;
.sp
.fi
.PP 
把日期时间风格设置为传统的 POSTGRES 风格，
with ``day before month'' input convention:
.sp
.nf
SET datestyle TO postgres, dmy;
.sp
.fi
.PP
 把时区设置为加州伯克力， 使用双引号保存时区声明里大写字符的属性 （注意这里的日期/时间格式是 PostgreSQL）：
.sp
.nf
SET TIME ZONE 'PST8PDT';
SELECT current_timestamp AS today;

             today
-------------------------------
 2003-04-29 15:02:01.218622-07
.sp
.fi
.SH "COMPATIBILITY 兼容性"
.PP
SET TIME ZONE 扩展了在 SQL 标准里定义的语法。 标准只允许有一个数字时区偏移， 而 PostgreSQL 还允许完整更灵活的时区声明。 所有其它的 SET 特性都是 PostgreSQL 扩展。
.SH "SEE ALSO 参见"
RESET [\fBreset\fR(7)], SHOW [\fBshow\fR(l)]

.SH "译者"
.B Postgresql 中文网站
.B 何伟平 <laser@pgsqldb.org>
