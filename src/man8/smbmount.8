.\"Generated by db2man.xsl. Don't modify this, modify the source.
.de Sh \" Subsection
.br
.if t .Sp
.ne 5
.PP
\fB\\$1\fR
.PP
..
.de Sp \" Vertical space (when we can't use .PP)
.if t .sp .5v
.if n .sp
..
.de Ip \" List item
.br
.ie \\n(.$>=3 .ne \\$3
.el .ne 3
.IP "\\$1" \\$2
..
.TH "SMBMOUNT" 8 "" "" ""
.SH NAME
.B smbmount \- 装载一个 smbfs 文件系统
.SH "总览 SYNOPSIS"

\fBsmbmount\fR {service} {mount-point} [-o options]

.SH "描述 DESCRIPTION"

.PP
\fBsmbmount\fR 可以装载一个Linux SMB文件系统。它通常在带 "-t smbfs" 选项执行 \fBmount\fR(8) 命令时被作为\fBmount.smbfs\fR执行。当然内核必须支持smbfs文件系统。

.PP
\fBsmbmount\fR使用的选项是用逗号分隔的一串key=value字串对的列表。It is possible to send options other than those listed here, assuming that smbfs supports them. If you get mount failures, check your kernel log for errors on unknown options.

.PP
\fBsmbmount\fR is a daemon. After mounting it keeps running until the mounted smbfs is umounted. It will log things that happen when in daemon mode using the "machine name" smbmount, so typically this output will end up in \fIlog.smbmount\fR. The \fB smbmount\fR process may also be called mount.smbfs.

.RS
.Sh "注意"

.PP
\fBsmbmount\fR 调用 \fBsmbmnt\fR(8)来完成实际的装载任务。你必须确保 \fBsmbmnt\fR 位于可以找到的路径中。 

.RE

.SH "选项 OPTIONS"

.TP
username=<arg>
指定联接时的用户名。如果不指定，程序会用\fBUSER\fR这个环境变量。这个选项也接受"user%password", "user/workgroup"或"user/workgroup%password"形式的参数，允许密码和工作组作为用户名的一部分同时被指定。

.TP
password=<arg>
指定SMB口令。如果不指定，将使用环境变量\fBPASSWD\fR. 如果没有指定，也没有环境变量， \fBsmbmount\fR会提示输入口令，除非使用了guest选项。 

Note that passwords which contain the argument delimiter character (i.e. a comma ',') will failed to be parsed correctly on the command line. However, the same password defined in the PASSWD environment variable or a credentials file (see below) will be read correctly.

.TP
credentials=<filename>
specifies a file that contains a username and/or password\&. 
The format of the file is:
.nf

username = <value>
password = <value>
.fi


This is preferred over having passwords in plaintext in a shared file, such as \fI/etc/fstab\fR. Be sure to protect any credentials file properly\&.


.TP
krb
Use kerberos (Active Directory).


.TP
netbiosname=<arg>
设定源NetBIOS主机名。默认是本机名。


.TP
uid=<arg>
设定装载的文件系统的用户标识符。可以用用户名或者UID数字两种办法来指定。

.TP
gid=<arg>
设定装载的文件系统的组标识符。可以用组名或者GID数字两种方法来指定。 

.TP
port=<arg>
设定远程SMB系统的端口号。默认是139。 

.TP
fmask=<arg>
设定文件掩码。这决定了本地文件系统中远程文件的权限。它不是掩码而是实际的文件权限。默认值是根据当前的umask算出来的。 

.TP
dmask=<arg>
设定目录掩码。这决定了本地文件系统中远程目录的权限。它不是掩码而是实际的目录权限。默认值是根据当前的umask算出来的。 

.TP
debug=<arg>
设定调试等级。对于跟踪SMB的联接问题非常有用。 建议的值是4. 如果设置得过高，会产生大量输出，可能会掩盖有用的输出。

.TP
ip=<arg>
设定目标主机或IP地址。 

.TP
workgroup=<arg>
设定目的工作组。

.TP
sockopt=<arg>
设定TCP套接字的一些选项。参见\fBsmb.conf\fR(5)配置文件中的\fIsocket options\fR选项。 

.TP
scope=<arg>
设定NetBIOS范围。

.TP
guest
不提示口令

.TP
ro
以只读方式装载。 

.TP
rw
以读写方式装载。 

.TP
iocharset=<arg>
sets the charset used by the Linux side for codepage to charset translations (NLS). Argument should be the name of a charset, like iso8859-1. (Note: only kernel 2.4.0 or later)


.TP
codepage=<arg>
sets the codepage the server uses. See the iocharset option. Example value cp850. (Note: only kernel 2.4.0 or later)


.TP
ttl=<arg>
sets how long a directory listing is cached in milliseconds (also affects visibility of file size and date changes)\&. A higher value means that changes on the server take longer to be noticed but it can give better performance on large directories, especially over long distances\&. Default is 1000ms but something like 10000ms (10 seconds) is probably more reasonable in many cases\&. (Note: only kernel 2\&.4\&.2 or later)


.SH "ENVIRONMENT VARIABLES"

.PP
The variable \fBUSER\fR may contain the username of the person using the client\&. This information is used only if the protocol level is high enough to support session-level passwords\&. The variable can be used to set both username and password by using the format username%password\&.

.PP
The variable \fBPASSWD\fR may contain the password of the person using the client\&. This information is used only if the protocol level is high enough to support session-level passwords\&.

.PP
The variable \fBPASSWD_FILE\fR may contain the pathname of a file to read the password from\&. A single line of input is read and used as the password\&.

.SH "BUGS"

.PP
Passwords and other options containing , can not be handled\&. For passwords an alternative way of passing them is in a credentials file or in the PASSWD environment\&.

.PP
The credentials file does not handle usernames or passwords with leading space\&.

.PP
One smbfs bug is important enough to mention here, even if it is a bit misplaced:

.TP 3
\(bu
Mounts sometimes stop working\&. This is usually caused by smbmount terminating\&. Since smbfs needs smbmount to reconnect when the server disconnects, the mount will eventually go dead\&. An umount/mount normally fixes this\&. At least 2 ways to trigger this bug are known\&.

.LP

.PP
Note that the typical response to a bug report is suggestion to try the latest version first\&. So please try doing that first, and always include which versions you use of relevant software when reporting bugs (minimum: samba, kernel, distribution)

.SH "SEE ALSO"

.PP
Documentation/filesystems/smbfs\&.txt in the linux kernel source tree may contain additional options and information\&.

.PP
FreeBSD also has a smbfs, but it is not related to smbmount

.PP
For Solaris, HP-UX and others you may want to look at \fBsmbsh\fR(1) or at other solutions, such as Sharity or perhaps replacing the SMB server with a NFS server\&.

.SH "作者 AUTHOR"

.PP
samba软件和相关工具最初由Andrew Tridgell创建。samba现在由Samba Team 作为开源软件来发展，类似linux内核的开发方式。

.PP
最初的samba手册页是 Karl Auer写的。
手册页源码已经转换为YODL格式(另一种很好的开源软件，可以在ftp://ftp.ice.rug.nl/pub/unix找到)，由Jeremy Sllison 更新到Samba2.0 版本。
Gerald Carter 在Samba2.2中将它转化为DocBook 格式。
Alexander Bokovoy 在Samba 3.0中实现了DocBook XML4.2 格式的转换。

.SH "[中文版维护人]"
.B meaculpa <meaculpa@21cn.com>
.SH "[中文版最新更新]"
.B 2000/12/08
.SH "《中国linux论坛man手册页翻译计划》:"
.BI http://cmpp.linuxforum.net 
